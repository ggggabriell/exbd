# exbd

--INSERIR UM CLIENTE SOMENTE SE ELE NASCEU APÓS 13/10/1993

create PROCEDURE CLIENTE_DATA
@nome varchar(30),
@endereco varchar(50),
@telefone varchar(15),
@e_mail varchar(30),
@data_nasc datetime
AS
BEGIN

   DECLARE @VALIDAR int;
   SET @VALIDAR=DATEDIFF(day, '1993-10-13', getdate());+
   DECLARE @NASCIMENTO INT;
   SET @NASCIMENTO= DATEDIFF(day, @data_nasc, getdate());
   
IF (@nascimento < @validar)
BEGIN
INSERT INTO tblclientes (nome, data_nasc, endereco, telefone, e_mail) values (@nome, @data_nasc, @endereco, @telefone, @e_mail);
END

END




--INSERIR UM DISTRIBUIDOR SOMENTE SE SEU NOME FANTASIA E RAZÃO SOCIAL FOREM DIFERENTES
CREATE PROCEDURE INSERIR_DIST
@nome_fantasia varchar(30),
@razao_social varchar(30),
@telefone varchar(15),
@e_mail varchar(30)
AS
BEGIN

IF(@nome_fantasia <> @razao_social)
BEGIN 
INSERT INTO tblDistribuidores (nome_fantasia, razao_social, telefone, e_mail) values (@nome_fantasia, @razao_social, @telefone, @e_mail);
END

END

--INSERIR UM CLIENTE SOMENTE SE SEU NOME TERMINAR COM 'EU'
CREATE PROCEDURE INSERIR_CLIENTE_EU
@nome varchar(30),
@endereco varchar(50),
@telefone varchar(15),
@e_mail varchar(30),
@data_nasc datetime
AS
BEGIN

IF( RIGHT(@nome, 2)= 'eu')
BEGIN
INSERT INTO tblclientes (nome, data_nasc, endereco, telefone, e_mail) values (@nome, @data_nasc, @endereco, @telefone, @e_mail);
END

END

